<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

<style type="text/css">
	.table th{
		color: white;
	}

	#ex1Slider .slider-selection {
	background: #BABABA;
}
	.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #67a7a8;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #67a7a8;
  cursor: pointer;
}
}
</style>
<div class="row">
	<div class="col-sm-12"><br>
		<div class = "col-sm-4">
			<form action="<%manage_members_admin_index_path%>" method="get">
		        <input type="text" id="search" name="search" class="form-control" placeholder="Search"><br>
		        <input type="submit" value="Submit" class="btn btn-secondary">
		        <input type="reset" value="Reset" class="btn btn-warning">
	        </form> 
		</div>
	</div>
	<div class="col-sm-12"><br>
		<div class="col-sm-4">
			<form action="<%manage_members_admin_index_path%>" method="get">
	          	<div class="slidecontainer">
					<label>Pair Count:</label>
			  		<input type="range" name = "range" min="1" max="100" value="" class="slider" id="myRange"><br>
			  		<p>Value: <span id="demo"></span></p>
				</div>
	          	<input type="submit" value="Fetch" name="Fetch" class="btn btn-secondary">
	        </form> 
		</div>
	</div>
	<div class="col-sm-12"><br>
		<div class="col-sm-4">
			<%= link_to "Last Month",  pair_details_admin_index_path(start_date: (Date.today.beginning_of_month - 1.month).to_datetime, end_time: (Date.today.end_of_month - 1.month).to_datetime), class: "btn"%> &nbsp;
        	<%= link_to "Current Month",  pair_details_admin_index_path(start_date: (Date.today.beginning_of_month).to_datetime, end_time: (Date.today.end_of_month).to_datetime), class: "btn"%> &nbsp;
        	<%= link_to "All",  pair_details_admin_index_path, class: "btn"%> 
		</div>
	</div><br>
	<div class="col-sm-12">
		<% @users.each do |user|%>
			<%if !user.admin?%>
				<div style="width: 300px;">
					<div style="margin-left: 10px; margin-right: 10px; ">
						<div class="card" style="background: #f0f2f2;">
						  <div class="card-header">
						    <h4>Name: <b><%= user.try(:name)%></b></h4>
						    <h5>User ID: <b><%= user.try(:sponser_id)%></b></h5>
						    <h5>Sponser Name: <b><%= User.find_by(id: user.try(:sponsered_by_id)).try(:name)%></b></h5>
						    <h5>Sponser ID: <b><%= User.find_by(id: user.try(:sponsered_by_id)).try(:sponser_id)%></b></h5>
						    <h5>Joining Date: <b><%=  user.created_at.strftime("%F")%></b></h5>
						  </div>
						  <div class="card-body">
						  	<h5>Active Left User's - <b><%= get_active_users(user, "active_left")%></b></h5>
						  	<h5>Active Right User's - <b><%= get_active_users(user, "active_right")%></b></h5>
						  	<h5>Non Active Left User's - <b><%= get_active_users(user, "inactive_left")%></b></h5>
						  	<h5>Non Active Right User's - <b><%= get_active_users(user, "inactive_right")%></b></h5>
						  	<h5><b>Pairs</b></h5>
						  	<h5><p>1st to 10th </p> - <b><%= find_pair(user, 1)%></b></h5>
						  	<h5><p>11th to 20th </p> - <b><%= find_pair(user, 2)%></b></h5>
						  	<h5><p>21th to 31st </p> - <b><%= find_pair(user, 3)%></b></h5>
						  	
						  </div>
						</div>
					</div>
				</div>
			<%end%>
		<%end%>
	</div>
</div>

<script type="text/javascript">
	var slider = document.getElementById("myRange");
	var output = document.getElementById("demo");
	output.innerHTML = slider.value;

	slider.oninput = function() {
	  output.innerHTML = this.value;
}
</script>